var i=Object.defineProperty,d=(t,n)=>{for(var e in n)i(t,e,{get:n[e],enumerable:!0})},w={};d(w,{convertFileSrc:()=>f,invoke:()=>s,transformCallback:()=>a});function u(){return window.crypto.getRandomValues(new Uint32Array(1))[0]}function a(t,n=!1){let e=u(),r=`_${e}`;return Object.defineProperty(window,r,{value:o=>(n&&Reflect.deleteProperty(window,r),t==null?void 0:t(o)),writable:!1,configurable:!0}),e}async function s(t,n={}){return new Promise((e,r)=>{let o=a(l=>{e(l),Reflect.deleteProperty(window,`_${c}`)},!0),c=a(l=>{r(l),Reflect.deleteProperty(window,`_${o}`)},!0);window.__TAURI_IPC__({cmd:t,callback:o,error:c,...n})})}function f(t,n="asset"){let e=encodeURIComponent(t);return navigator.userAgent.includes("Windows")?`https://${n}.localhost/${e}`:`${n}://localhost/${e}`}export{s as d,f as u};
